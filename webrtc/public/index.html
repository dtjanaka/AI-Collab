<!DOCTYPE html>
<html>
  <head>
    <title>Viewer</title>
    <meta charset="UTF-8" />
    <link href="/styles.css" rel="stylesheet" />
  </head>
  <body>

    <div class="whole_area">
    <div class="sidebar" id="sidebar">

		<header>

			<h1 style='float:left' class="chat_title">Chat</h1>


			<button style='float:right' class='help_question' onclick="togglePopup()">?</h1>
			
	
		</header>
		<br><br><br>
		<!--
		<h2>Channel</h2>
		<select name="dropdown" id="select_channel">
		<option value="global">Global</option>
		
		</select>
		-->
		<div class="sidechat">
		  <section class="chat" id="chat">
		
		  </section>

		  
			<input type="text" id="command_text">
			<button class="send" onclick="sendCommand()">Send</button>
			<button class="send" onclick="setCommand()">Set Command</button>
		  
		</div>
		<button class="collapsible">Commands</button>
		<div class="collapsible_content">
			<div class='wrapper' >
				<input type="radio" id="help_accept" name="command" value="I will help [agent]">
				<label for="help_accept">I will help [agent]</label><br>
			</div>
			<div class='wrapper' >
				<input type="radio" id="help_request_sensing" name="command" value="I need help with sensing [object]">
				<label for="help_request_sensing">I need help with sensing [object]</label><br>
			</div>
			<div class='wrapper' >
				<input type="radio" id="help_request_lifting" name="command" value="I need help with lifting [object]">
				<label for="help_request_lifting">I need help with lifting [object]</label><br>
			</div>
			<div class='wrapper' >
				<input type="radio" id="reject_request" name="command" value="I cannot help you right now [agent]">
				<label for="reject_request">I cannot help you right now [agent]</label><br>
			</div>
			<div class='wrapper' >
				<input type="radio" id="cancel_request" name="command" value="No more need for help">
				<label for="cancel_request">No more need to help</label><br>
			</div>
			<div class='wrapper' >
				<input type="radio" id="exchange_item_request" name="command" value="Ask for object information to [agent]">
				<label for="exchange_item_request">Ask for object information to [agent]</label><br>
			</div>
			<div class='wrapper' >
				<input type="radio" id="exchange_agent_request" name="command" value="Ask for agent information to [agent]">
				<label for="exchange_agent_request">Ask for agent information to [agent]</label><br>
			</div>
			
			
		</div>
		<button class="collapsible" id="collapsible_nearby_team_members_tag">Team Members (0)</button>
		<div class="collapsible_content" id="collapsible_nearby_team_members">

		</div>
		<button class="collapsible" onclick="fill_info()" id="collapsible_object_tag">Object Information (0)</button>
		<div class="collapsible_content" id="collapsible_object_information">

		</div>
		
		
	        
		
	
	</div>
	<div class="popup" id="popup-1">
	        	<div class="overlay"></div>
	        	<div class="content">
	        		<div class="close-btn" onclick="togglePopup()">&times;</div>
	        		<h1> Instructions </h1> <br>
	        		Sense objects and bring the dangerous objects into the middle of the room. When you sense an object you will see whether the object is dangerous or benign according to the color of the object ID, and in your sidebar you will be able to consult the object, as well as the confidence in the prediction. Objects have a weight associated with them, and you will only be able to carry those that match your strength level. Strength level is modified by the amount of robots that are close to you and you may only be able to carry a heavy object when you have a given quantity of robots near you. A dangerous object can only be carried if there are other robots nearby, if not, the game will end if you carry one. You need to compare estimates of danger level in order to be sure you are not carrying a dangerous object alone. You can talk with your fellow robots through the sidebar chat. <br>
	        		<h1> Controls </h1> <br>
				    Arrow Keys to advance <br>
				    Z to grab/drop object with left arm <br>
				    X to grab/drop object with right arm <br>
				    C to rotate camera downwards <br>
				    V to rotate camera upwards <br>
				    B to take sensing action <br>
				    N to focus in object (you need this to then grab an object)<br>
				    <p id=distance_text>Maximum distance for carrying objects: </p>
				    <p id=comms_text>Maximum distance for communication (-1 is out of range): </p>
				    
				    <p style="color: blue;"> Benign object</p>
	    			    <p style="color: red;"> Dangerous object</p>
	    			    
	    			    You can send messages by putting the text and then pressing Enter <br>
	    			    To search for an object, input the pattern and then press Enter
	    			    
	    			  
	        		</div>
		</div>

	<div id="play_area" >
    <video playsinline autoplay muted></video>
    <video playsinline autoplay muted></video>
	</div>

    
   

 

    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/watch.js"></script>

	<script>
	var coll = document.getElementsByClassName("collapsible");
	var i;

	for (i = 0; i < coll.length; i++) {
	  coll[i].addEventListener("click", function() {
		this.classList.toggle("active");
		var content = this.nextElementSibling;
		if (content.style.maxHeight){
		  content.style.maxHeight = null;
		} else {
		  content.style.maxHeight = content.scrollHeight + "px";
		} 
	  });
	}
	</script>
  </body>
</html>
